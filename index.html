<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TODAG — Personnages principaux (fan arts)</title>

  <style>
    :root{
      --bg:#0b0c10; --fg:#eaf0ff; --muted:#a1acc7;
      --card:#0f1220; --border:#1e2636; --ring:#6366f1;
      --surface:#0c1020;
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#ffffff; --fg:#0b1220; --muted:#475569;
        --card:#f8fafc; --border:#e5e7eb; --ring:#4f46e5; --surface:#eef2ff;
      }
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif; line-height:1.55;
    }
    a{color:inherit; text-decoration:none}
    a:hover{text-decoration:underline}

    /* ---- header ---- */
    .site-header{
      background:
        radial-gradient(1200px 400px at 50% -200px, color-mix(in oklab, var(--ring) 25%, transparent), transparent),
        linear-gradient(180deg, color-mix(in oklab, var(--surface) 70%, transparent), transparent);
      border-bottom:1px solid var(--border);
      padding:3rem 0 2rem; text-align:center;
    }
    .site-title{ margin:0; font-weight:900; letter-spacing:.2px; font-size:clamp(1.6rem, 3.2vw, 2.4rem) }
    .site-subtitle{ margin:.4rem 0 0; color:var(--muted); font-size:1rem }
    .container{width:min(1100px, 92%); margin-inline:auto}

    /* ---- grille ---- */
    .grid{ display:grid; gap:1rem; grid-template-columns:repeat(4,1fr); padding:2rem 0 3rem }
    @media (max-width:900px){ .grid{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:640px){ .grid{grid-template-columns:repeat(2,1fr)} }

    /* ---- cartes ---- */
    .card{
      background:var(--card); border:1px solid var(--border); border-radius:1rem; padding:.8rem;
      box-shadow:0 10px 28px rgba(0,0,0,.20);
      transition:transform .15s ease, box-shadow .15s ease;
    }
    .card:hover{ transform:translateY(-3px); box-shadow:0 16px 36px rgba(0,0,0,.28) }
    .card:focus-within{ outline:3px solid var(--ring); outline-offset:3px }
    .thumb{ position:relative; aspect-ratio:1/1; border-radius:.9rem; overflow:hidden; border:1px solid var(--border); background:#0a0f1f }
    .thumb img{ width:100%; height:100%; display:block; object-fit:cover; transform:scale(1); transition:transform .25s ease }
    .card:hover .thumb img{ transform:scale(1.04) }
    .name{ font-weight:800; margin:.65rem .25rem 0 }
    .meta{ color:var(--muted); font-size:.92rem; margin:.15rem .25rem 0 }

    /* ---- MODALE ---- */
    .modal-root{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:50;
    }
    .modal-root[aria-hidden="false"]{ display:flex }
    .modal-overlay{
      position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(2px); opacity:0; animation:fadeIn .18s ease forwards;
    }
    .modal-dialog{
      position:relative; max-width:860px; width:92%;
      background:var(--card); border:1px solid var(--border); border-radius:1rem; overflow:hidden;
      box-shadow:0 24px 60px rgba(0,0,0,.45);
      opacity:0; transform:translateY(8px) scale(.98);
      animation:popIn .18s ease-out forwards;
    }
    @keyframes fadeIn{ to { opacity:1 } }
    @keyframes popIn{ to { opacity:1; transform:translateY(0) scale(1) } }

    .modal-grid{ display:grid; grid-template-columns:1fr 1.2fr }
    @media (max-width:760px){ .modal-grid{ grid-template-columns:1fr } }

    .modal-media{ background:#0a0f1f; min-height:300px }
    .modal-media img{ width:100%; height:100%; object-fit:cover; display:block }
    .modal-body{ padding:1rem 1.25rem }
    .modal-title{ margin:.2rem 0 .4rem; font-size:1.4rem }
    .modal-meta{ margin:.1rem 0 .9rem; color:var(--muted) }

    .modal-close{
      position:absolute; top:.6rem; right:.6rem;
      border:1px solid var(--border); background:rgba(0,0,0,.25); color:var(--fg);
      padding:.4rem .6rem; border-radius:.5rem; cursor:pointer;
    }

    /* nav boutons */
    .modal-nav{
      position:absolute; inset:0; pointer-events:none;
      display:flex; align-items:center; justify-content:space-between; padding:.5rem;
    }
    .nav-btn{
      pointer-events:auto;
      border:1px solid var(--border); background:rgba(0,0,0,.35); color:var(--fg);
      padding:.5rem .7rem; border-radius:.6rem; cursor:pointer; font-weight:700;
    }
    .nav-btn:focus{ outline:3px solid var(--ring) }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container">
      <h1 class="site-title">TODAG</h1>
      <p class="site-subtitle">Personnages principaux</p>
    </div>
  </header>

  <!-- GRILLE -->
  <main class="container grid">

    <!-- NOTE: pour l'instant toutes les vignettes pointent vers la même image locale -->
    <!-- Remplace data-img/src par tes vrais fichiers dans /assets quand tu les auras -->

    <!-- Nie Li -->
    <article class="card">
      <a href="#"
         aria-label="Nie Li"
         data-name="Nie Li"
         data-img="TODAG sword.jpg"
         data-credit='Fan art — <a href="#" target="_blank" rel="noopener">crédit à ajouter</a>'
         data-desc="Nie Li est un maître ayant atteint un des plus grands rangs lors de sa vie précédente...Maintenant, un enfant de 13 ans avec tous les souvenirs de sa vie précédente, donc ceux d'un des plus grands maître jamais vu.">
        <div class="thumb">
          <img loading="lazy" src="TODAG sword.jpg" alt="Nie Li">
        </div>
        <div class="name">Nie Li</div>
        <div class="meta">Fan art — crédit à ajouter</div>
      </a>
    </article>

    <!-- Xiao Ning'er -->
    <article class="card">
      <a href="#"
         aria-label="Xiao Ning'er"
         data-name="Xiao Ning'er"
         data-img="Xiao Ning.jpg"
         data-credit="Fan art — crédit à ajouter"
         data-desc="Xiao Ning'er est une noble d'une des grandes familles, mais bien qu'elle soit puissante ce qu'elle désire le plus c'est se faire des amis.">
        <div class="thumb">
          <img loading="lazy" src="Xiao Ning.jpg" alt="Xiao Ning'er">
        </div>
        <div class="name">Xiao Ning'er</div>
        <div class="meta">Fan art — crédit à ajouter</div>
      </a>
    </article>

    <!-- Xiao Xue -->
    <article class="card">
      <a href="#"
         aria-label="Xiao Xue"
         data-name="Xiao Xue"
         data-img="Xiao Xue.jpg"
         data-credit="Fan art — crédit à ajouter"
         data-desc="Xiao Xue est membre de la famille Xiao, elle est une amie d'enfance et voisine de Lu Piao. En veillissant, leurs sentiments l'un pour l'autre se sont transoformés en amour.">
        <div class="thumb">
          <img loading="lazy" src="Xiao Xue.jpg" alt="Xiao Xue">
        </div>
        <div class="name">Xiao Xue</div>
        <div class="meta">Fan art — crédit à ajouter</div>
      </a>
    </article>

    <!-- Ye Ziyun -->
    <article class="card">
      <a href="#"
   aria-label="Ye Ziyun"
   data-name="Ye Ziyun"
   data-img="Ye Ziyun.jpg"
   data-credit="Fan art — crédit à ajouter"
   data-desc="Ye Ziyun est la petite fille du protecteur de la ville...">
  <div class="thumb">
    <img loading="lazy" src="Ye Ziyun.jpg" alt="Ye Ziyun">
  </div>
  <div class="name">Ye Ziyun</div>
  <div class="meta">Fan art — crédit à ajouter</div>
</a>
    </article>

    <!-- Lu Piao -->
    <article class="card">
      <a href="#"
         aria-label="Lu Piao"
         data-name="Lu Piao"
         data-img="Lu Piao.jpg"
         data-credit="Fan art — crédit à ajouter"
         data-desc="Lu Piao est un noble et un des meilleurs amis de Nie Li. Ce qu'il aimerait le plus, c'est devenir quelqu'un de puissant sans le moindre effort... Bref, c'est un sympatique feignant!">
        <div class="thumb">
          <img loading="lazy" src="Lu Piao.jpg" alt="Lu Piao">
        </div>
        <div class="name">Lu Piao</div>
        <div class="meta">Fan art — crédit à ajouter</div>
      </a>
    </article>

    <!-- Du Ze -->
    <article class="card">
  <a href="#"
     aria-label="Du Ze"
     data-name="Du Ze"
     data-img="Du Ze.jpg"
     data-credit="Fan art — crédit à ajouter"
     data-desc="Du Ze n'est pas un noble mais il est déterminé à devenir puissant afin d'aider sa famille et défendre Illustria. Il est calme et réfléchi.">
    <div class="thumb">
      <img loading="lazy" src="Du Ze.jpg" alt="Du Ze">
    </div>
    <div class="name">Du Ze</div>
    <div class="meta">Fan art — crédit à ajouter</div>
  </a>
</article>

    <!-- Duan Jian -->
    <article class="card">
      <a href="#"
         aria-label="Duan Jian"
         data-name="Duan Jian"
         data-img="Duan Jian.jpg"
         data-credit="Fan art — crédit à ajouter"
         data-desc="Duan Jian est un descendant des clans des ailes d'argent et du dragon noir. Ces 2 clans sont des ennemis jurés, ses parents ont été éxécutés pour leurs union contre nature. Duan Jian, quand à lui, a été torturé toute sa vie pour servir d'exemple à qui oserait s'opposer à Sikong Yi.">
        <div class="thumb">
          <img loading="lazy" src="Duan Jian.jpg" alt="Duan Jian">
        </div>
        <div class="name">Duan Jian</div>
        <div class="meta">Fan art — crédit à ajouter</div>
      </a>
    </article>

    <!-- Huyan Lanruo -->
    <article class="card">
      <a href="#"
         aria-label="Huyan Lanruo"
         data-name="Huyan Lanruo"
         data-img="Huyan Lanruo.jpg"
         data-credit="Fan art — crédit à ajouter"
         data-desc="Huyan Lanruo est la futur héritière de la famille Huyan. Elle a un intéret particulier pour Nie Li depuis l'expédition des ruines de la cité de l'orchidée.">
        <div class="thumb">
          <img loading="lazy" src="Huyan Lanruo.jpg" alt="Huyan Lanruo">
        </div>
        <div class="name">Huyan Lanruo</div>
        <div class="meta">Fan art — crédit à ajouter</div>
      </a>
    </article>
  </main>

  <!-- ===== Modale fiche personnage ===== -->
  <div id="modal" class="modal-root" aria-hidden="true" role="dialog" aria-labelledby="modal-title">
    <div id="overlay" class="modal-overlay"></div>

    <div class="modal-dialog">
      <!-- navigation -->
      <div class="modal-nav">
        <button id="prevBtn" class="nav-btn" aria-label="Précédent">◀</button>
        <button id="nextBtn" class="nav-btn" aria-label="Suivant">▶</button>
      </div>

      <button id="closeBtn" class="modal-close" aria-label="Fermer">✕</button>

      <div class="modal-grid">
        <div class="modal-media"><img id="modal-img" alt=""></div>
        <div class="modal-body">
          <h2 id="modal-title" class="modal-title"></h2>
          <p id="modal-meta" class="modal-meta"></p>
          <p id="modal-desc"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Script de la modale + navigation ===== -->
  <script>
    const modal   = document.getElementById('modal');
    const overlay = document.getElementById('overlay');
    const closeBtn= document.getElementById('closeBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    const mImg   = document.getElementById('modal-img');
    const mTitle = document.getElementById('modal-title');
    const mMeta  = document.getElementById('modal-meta');
    const mDesc  = document.getElementById('modal-desc');

    // Liste ordonnée des cartes cliquables (les liens <a> avec data-*)
    const items = Array.from(document.querySelectorAll('.card a[data-name]'));
    let currentIndex = -1;

    function setModalContent(a){
      mImg.src = a.dataset.img;
      mImg.alt = a.dataset.name;
      mTitle.textContent = a.dataset.name || '';
      mMeta.innerHTML = a.dataset.credit || '';
      mDesc.textContent = a.dataset.desc || '';
    }

    function openByIndex(i){
      if(i < 0) i = items.length - 1;
      if(i >= items.length) i = 0;
      currentIndex = i;
      setModalContent(items[currentIndex]);
      modal.setAttribute('aria-hidden', 'false');
      // focus pour accessibilité
      closeBtn.focus();
    }

    function closeModal(){
      modal.setAttribute('aria-hidden', 'true');
      currentIndex = -1;
    }

    // Ouvrir au clic d’une carte
    items.forEach((a, i) => {
      a.addEventListener('click', e => {
        e.preventDefault();
        openByIndex(i);
      });
    });

    // Navigation
    prevBtn.addEventListener('click', () => openByIndex(currentIndex - 1));
    nextBtn.addEventListener('click', () => openByIndex(currentIndex + 1));

    // Fermer
    overlay.addEventListener('click', closeModal);
    closeBtn.addEventListener('click', closeModal);
    window.addEventListener('keydown', (e) => {
      if (modal.getAttribute('aria-hidden') === 'true') return;
      if (e.key === 'Escape') closeModal();
      if (e.key === 'ArrowLeft')  openByIndex(currentIndex - 1);
      if (e.key === 'ArrowRight') openByIndex(currentIndex + 1);
    });
  </script>
</body>
</html>
